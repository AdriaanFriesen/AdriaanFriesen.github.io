<!DOCTYPE html>
<html>
    <head>
        <title>Mandelbrot Set</title>
        <style>
            #canvas1 {
                background-color: white;
                position: absolute;
                left: 0;
                top: 0;
            }
        </style>
    </head>
    <body>
        <canvas id="canvas1" width="0px" height="0px"></canvas>
        <script>
            var c = document.getElementById("canvas1");
            var ctx = c.getContext("2d");

            window.addEventListener(
            'resize', 
            function() { 
                c.width = window.innerWidth;
                c.height = window.innerHeight;
                render_set(); 
            }, 
            false);

            ctx.fillStyle = "#000000";

            function render_set() {
                var height = document.getElementById("canvas1").height;
                var width = document.getElementById("canvas1").width;

                var highest_dim = Math.max(height, width);

                function complex_absolute(comp) {
                    return ( ( comp[0] ** 2 ) + ( comp[1] ** 2 ) ) ** 0.5;
                }

                function complex_squaring(comp) {
                    return [( comp[0] ** 2 ) + ( comp[1] ** 2 * -1 ), comp[0] * comp[1] * 2];
                }

                function complex_addition(comp1, comp2) {
                    return [comp1[0] + comp2[0], comp1[1] + comp2[1]]
                }

                function set_check(c) {
                    let z = [0, 0];
                    let max_i = 100;
                    let i = max_i;
                    while (complex_absolute(z) < 2 && i >= 0) {
                        // console.log(z[0], z[1]);
                        z = complex_addition(complex_squaring(z), c)
                        // console.log(z[0], z[1]);
                        i--;
                    }
                    if (complex_absolute(z) < 2) {
                        ctx.fillRect(x, y, 1, 1);
                    }
                    // console.log(z[0], z[1]);
                }

                for (var y = 0; y <= height; y++) {
                    for (var x = 0; x <= width; x++) {
                        set_check([ ( ( ( x / highest_dim ) * 4 ) - ( ( width / highest_dim ) * 2 ) ), ( ( ( y / highest_dim ) * 4 ) - ( ( height / highest_dim ) * 2 ) ) ]);
                        // console.log(x, y)
                    }
                }
            }

            c.width = window.innerWidth;
            c.height = window.innerHeight;

            render_set();

        </script>
    </body>
</html>